<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>中学受験 社会科問題</title>
    
    <!-- React CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        * {
            box-sizing: border-box;
        }
        
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
                'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
                sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        button:hover {
            opacity: 0.9;
        }
        
        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        input:focus, select:focus {
            outline: none;
            border-color: #2196F3;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useCallback } = React;

        // 問題データベース
        const questionBank = [
            {
                id: '1',
                category: '地理',
                subcategory: '日本の地形',
                difficulty: 'basic',
                question: '日本で一番高い山は何ですか？',
                type: 'multiple-choice',
                options: ['富士山', '北岳', '奥穂高岳', '間ノ岳'],
                answer: 0,
                explanation: '富士山は標高3,776mで日本で一番高い山です。静岡県と山梨県にまたがっています。',
                points: 1
            },
            {
                id: '2',
                category: '地理',
                subcategory: '日本の気候',
                difficulty: 'standard',
                question: '日本の気候に大きな影響を与える海流で、暖流はどれですか？',
                type: 'multiple-choice',
                options: ['黒潮', '親潮', 'リマン海流', '対馬海流'],
                answer: 0,
                explanation: '黒潮（日本海流）は太平洋側を北上する暖流で、日本の気候を温暖にしています。',
                points: 2
            },
            {
                id: '3',
                category: '歴史',
                subcategory: '古代',
                difficulty: 'basic',
                question: '邪馬台国の女王として有名な人物は（　　　）です。',
                type: 'fill-in-blank',
                answer: '卑弥呼',
                explanation: '卑弥呼は3世紀頃の邪馬台国の女王で、中国の史書「魏志倭人伝」に記録されています。',
                points: 1
            },
            {
                id: '4',
                category: '歴史',
                subcategory: '平安時代',
                difficulty: 'standard',
                question: '平安京が作られたのは何年ですか？',
                type: 'multiple-choice',
                options: ['784年', '794年', '804年', '814年'],
                answer: 1,
                explanation: '平安京は794年に桓武天皇によって建設されました。「鳴くよ（794）うぐいす平安京」という語呂合わせで覚えられます。',
                points: 2
            },
            {
                id: '5',
                category: '公民',
                subcategory: '日本国憲法',
                difficulty: 'basic',
                question: '日本国憲法の三大原則に含まれないものはどれですか？',
                type: 'multiple-choice',
                options: ['国民主権', '基本的人権の尊重', '平和主義', '議院内閣制'],
                answer: 3,
                explanation: '日本国憲法の三大原則は「国民主権」「基本的人権の尊重」「平和主義」です。議院内閣制は統治機構の仕組みです。',
                points: 2
            },
            {
                id: '6',
                category: '地理',
                subcategory: '世界の国々',
                difficulty: 'advanced',
                question: '世界で一番面積が大きい国はロシアである。',
                type: 'true-false',
                answer: 1,
                explanation: 'ロシアは世界最大の面積を持つ国で、約1,707万平方キロメートルです。',
                points: 1
            },
            {
                id: '7',
                category: '歴史',
                subcategory: '戦国時代',
                difficulty: 'standard',
                question: '1600年の関ヶ原の戦いで勝利したのは（　　　）です。',
                type: 'fill-in-blank',
                answer: '徳川家康',
                explanation: '徳川家康が石田三成らの西軍を破り、その後江戸幕府を開きました。',
                points: 2
            },
            {
                id: '8',
                category: '公民',
                subcategory: '政治制度',
                difficulty: 'advanced',
                question: '衆議院議員の任期は何年ですか？',
                type: 'multiple-choice',
                options: ['3年', '4年', '5年', '6年'],
                answer: 1,
                explanation: '衆議院議員の任期は4年です（ただし解散により短縮される場合があります）。参議院議員は6年です。',
                points: 3
            },
            {
                id: '9',
                category: '地理',
                subcategory: '日本の地形',
                difficulty: 'standard',
                question: '日本列島を4つの大きな島に分けた時、面積が2番目に大きい島はどれですか？',
                type: 'multiple-choice',
                options: ['本州', '北海道', '九州', '四国'],
                answer: 1,
                explanation: '日本の4つの大きな島の面積順は、本州、北海道、九州、四国です。',
                points: 2
            },
            {
                id: '10',
                category: '地理',
                subcategory: '日本の川',
                difficulty: 'basic',
                question: '日本で一番長い川は（　　　）川です。',
                type: 'fill-in-blank',
                answer: '信濃',
                explanation: '信濃川は長野県から新潟県に流れる川で、全長367kmと日本で最も長い川です。',
                points: 1
            },
            {
                id: '11',
                category: '地理',
                subcategory: '日本の平野',
                difficulty: 'standard',
                question: '関東平野にある湖で、日本で2番目に大きいのはどれですか？',
                type: 'multiple-choice',
                options: ['琵琶湖', '霞ヶ浦', '猪苗代湖', 'サロマ湖'],
                answer: 1,
                explanation: '霞ヶ浦は茨城県にあり、琵琶湖に次いで日本で2番目に大きい湖です。',
                points: 2
            },
            {
                id: '12',
                category: '地理',
                subcategory: '都道府県',
                difficulty: 'basic',
                question: '日本の都道府県の数は全部で何個ですか？',
                type: 'multiple-choice',
                options: ['45', '46', '47', '48'],
                answer: 2,
                explanation: '日本は1都1道2府43県の計47の都道府県に分かれています。',
                points: 1
            },
            {
                id: '13',
                category: '地理',
                subcategory: '世界の国々',
                difficulty: 'standard',
                question: '中国の首都はどこですか？',
                type: 'multiple-choice',
                options: ['上海', '北京', '広州', '香港'],
                answer: 1,
                explanation: '中華人民共和国の首都は北京です。上海は最大の都市ですが首都ではありません。',
                points: 1
            },
            {
                id: '14',
                category: '歴史',
                subcategory: '縄文・弥生時代',
                difficulty: 'basic',
                question: '稲作が本格的に始まった時代はいつですか？',
                type: 'multiple-choice',
                options: ['縄文時代', '弥生時代', '古墳時代', '飛鳥時代'],
                answer: 1,
                explanation: '弥生時代（紀元前3世紀頃〜紀元後3世紀頃）に稲作が本格的に始まりました。',
                points: 1
            },
            {
                id: '15',
                category: '歴史',
                subcategory: '古代',
                difficulty: 'standard',
                question: '聖徳太子が制定したとされる法律は何ですか？',
                type: 'multiple-choice',
                options: ['大化の改新', '十七条憲法', '大宝律令', '班田収授法'],
                answer: 1,
                explanation: '聖徳太子は604年に十七条憲法を制定し、役人の心得を示しました。',
                points: 2
            },
            {
                id: '16',
                category: '歴史',
                subcategory: '奈良時代',
                difficulty: 'basic',
                question: '奈良時代の都は（　　　）でした。',
                type: 'fill-in-blank',
                answer: '平城京',
                explanation: '710年に平城京（現在の奈良市）に都が置かれ、奈良時代が始まりました。',
                points: 1
            },
            {
                id: '17',
                category: '歴史',
                subcategory: '鎌倉時代',
                difficulty: 'standard',
                question: '鎌倉幕府を開いたのは誰ですか？',
                type: 'multiple-choice',
                options: ['平清盛', '源頼朝', '源義経', '北条時政'],
                answer: 1,
                explanation: '源頼朝が1192年に鎌倉幕府を開き、日本初の武家政権が始まりました。',
                points: 2
            },
            {
                id: '18',
                category: '歴史',
                subcategory: '室町時代',
                difficulty: 'advanced',
                question: '金閣寺を建てたのは誰ですか？',
                type: 'multiple-choice',
                options: ['足利尊氏', '足利義満', '足利義政', '足利義昭'],
                answer: 1,
                explanation: '3代将軍足利義満が1397年に金閣寺（鹿苑寺）を建てました。',
                points: 3
            },
            {
                id: '19',
                category: '歴史',
                subcategory: '安土桃山時代',
                difficulty: 'standard',
                question: '織田信長が天下統一を目指した時代の名前は何ですか？',
                type: 'multiple-choice',
                options: ['室町時代', '安土桃山時代', '江戸時代', '戦国時代'],
                answer: 1,
                explanation: '織田信長・豊臣秀吉の時代を安土桃山時代と呼びます。戦国時代とも重なります。',
                points: 2
            },
            {
                id: '20',
                category: '歴史',
                subcategory: '江戸時代',
                difficulty: 'basic',
                question: '江戸幕府の初代将軍は（　　　）です。',
                type: 'fill-in-blank',
                answer: '徳川家康',
                explanation: '徳川家康が1603年に江戸幕府を開き、約260年間続く江戸時代が始まりました。',
                points: 1
            },
            {
                id: '21',
                category: '歴史',
                subcategory: '江戸時代',
                difficulty: 'standard',
                question: '江戸時代の身分制度で、最も身分が高いのはどれですか？',
                type: 'multiple-choice',
                options: ['武士', '農民', '工人', '商人'],
                answer: 0,
                explanation: '江戸時代は士農工商の身分制度があり、武士が最も身分が高く支配階級でした。',
                points: 2
            },
            {
                id: '22',
                category: '歴史',
                subcategory: '明治時代',
                difficulty: 'basic',
                question: '明治維新が起こったのは何年ですか？',
                type: 'multiple-choice',
                options: ['1867年', '1868年', '1869年', '1870年'],
                answer: 1,
                explanation: '1868年に明治維新が起こり、江戸時代が終わって明治時代が始まりました。',
                points: 1
            },
            {
                id: '23',
                category: '歴史',
                subcategory: '明治時代',
                difficulty: 'advanced',
                question: '廃藩置県が行われたのは明治何年ですか？',
                type: 'multiple-choice',
                options: ['明治2年', '明治4年', '明治6年', '明治8年'],
                answer: 1,
                explanation: '明治4年（1871年）に廃藩置県が行われ、藩が廃止されて県が設置されました。',
                points: 3
            },
            {
                id: '24',
                category: '公民',
                subcategory: '基本的人権',
                difficulty: 'basic',
                question: '基本的人権は生まれながらに持っている権利である。',
                type: 'true-false',
                answer: 1,
                explanation: '基本的人権は人間が生まれながらに持っている権利で、誰からも奪われることはありません。',
                points: 1
            },
            {
                id: '25',
                category: '公民',
                subcategory: '三権分立',
                difficulty: 'standard',
                question: '三権分立の「三権」に含まれないものはどれですか？',
                type: 'multiple-choice',
                options: ['立法権', '行政権', '司法権', '選挙権'],
                answer: 3,
                explanation: '三権分立の三権は立法権（国会）、行政権（内閣）、司法権（裁判所）です。',
                points: 2
            },
            {
                id: '26',
                category: '公民',
                subcategory: '国会',
                difficulty: 'basic',
                question: '国会は衆議院と（　　　）からなります。',
                type: 'fill-in-blank',
                answer: '参議院',
                explanation: '日本の国会は衆議院と参議院の二院制です。',
                points: 1
            },
            {
                id: '27',
                category: '公民',
                subcategory: '選挙',
                difficulty: 'standard',
                question: '日本で選挙権を得られる年齢は何歳からですか？',
                type: 'multiple-choice',
                options: ['18歳', '19歳', '20歳', '21歳'],
                answer: 0,
                explanation: '2016年から選挙権年齢が18歳に引き下げられました。',
                points: 2
            },
            {
                id: '28',
                category: '公民',
                subcategory: '地方自治',
                difficulty: 'basic',
                question: '都道府県の長は何と呼ばれますか？',
                type: 'multiple-choice',
                options: ['市長', '知事', '町長', '村長'],
                answer: 1,
                explanation: '都道府県の長は知事と呼ばれ、住民の直接選挙で選ばれます。',
                points: 1
            },
            {
                id: '29',
                category: '地理',
                subcategory: '工業',
                difficulty: 'standard',
                question: '日本の四大工業地帯に含まれないのはどれですか？',
                type: 'multiple-choice',
                options: ['京浜工業地帯', '中京工業地帯', '阪神工業地帯', '瀬戸内工業地域'],
                answer: 3,
                explanation: '四大工業地帯は京浜、中京、阪神、北九州です。瀬戸内は工業地域です。',
                points: 2
            },
            {
                id: '30',
                category: '地理',
                subcategory: '農業',
                difficulty: 'basic',
                question: '日本で最も米の生産量が多い都道府県はどこですか？',
                type: 'multiple-choice',
                options: ['北海道', '新潟県', '秋田県', '山形県'],
                answer: 1,
                explanation: '新潟県は「コシヒカリ」の産地として有名で、日本最大の米の産地です。',
                points: 1
            },
            {
                id: '31',
                category: '地理',
                subcategory: '気候',
                difficulty: 'advanced',
                question: '日本海側の冬の気候の特徴として正しいものはどれですか？',
                type: 'multiple-choice',
                options: ['乾燥して晴れの日が多い', '雪が多く降る', '台風が多い', '梅雨が長い'],
                answer: 1,
                explanation: '日本海側は冬に季節風の影響で雪雲が発生し、雪が多く降ります。',
                points: 3
            },
            {
                id: '32',
                category: '歴史',
                subcategory: '昭和時代',
                difficulty: 'standard',
                question: '太平洋戦争が始まったのは西暦何年ですか？',
                type: 'multiple-choice',
                options: ['1940年', '1941年', '1942年', '1943年'],
                answer: 1,
                explanation: '1941年12月8日に真珠湾攻撃が行われ、太平洋戦争が始まりました。',
                points: 2
            },
            {
                id: '33',
                category: '歴史',
                subcategory: '昭和時代',
                difficulty: 'basic',
                question: '太平洋戦争が終わったのは昭和何年ですか？',
                type: 'multiple-choice',
                options: ['昭和19年', '昭和20年', '昭和21年', '昭和22年'],
                answer: 1,
                explanation: '1945年（昭和20年）8月15日に日本が降伏し、太平洋戦争が終わりました。',
                points: 1
            },
            {
                id: '34',
                category: '公民',
                subcategory: '国際関係',
                difficulty: 'standard',
                question: '国際連合の本部がある都市はどこですか？',
                type: 'multiple-choice',
                options: ['ロンドン', 'パリ', 'ニューヨーク', 'ジュネーブ'],
                answer: 2,
                explanation: '国際連合の本部はアメリカのニューヨークにあります。',
                points: 2
            },
            {
                id: '35',
                category: '地理',
                subcategory: 'アジア',
                difficulty: 'basic',
                question: '日本に最も近い外国はどこですか？',
                type: 'multiple-choice',
                options: ['中国', '韓国', 'ロシア', '北朝鮮'],
                answer: 1,
                explanation: '対馬海峡を挟んで韓国が最も近く、約50kmの距離です。',
                points: 1
            },
            {
                id: '36',
                category: '地理',
                subcategory: '世界の国々',
                difficulty: 'basic',
                question: 'アメリカ合衆国の首都はどこですか？',
                type: 'multiple-choice',
                options: ['ニューヨーク', 'ワシントンD.C.', 'ロサンゼルス', 'シカゴ'],
                answer: 1,
                explanation: 'アメリカ合衆国の首都はワシントンD.C.です。ニューヨークは最大都市ですが首都ではありません。',
                points: 1
            },
            {
                id: '37',
                category: '地理',
                subcategory: '世界の国々',
                difficulty: 'standard',
                question: 'ヨーロッパで面積が最も大きい国はどこですか？',
                type: 'multiple-choice',
                options: ['フランス', 'ドイツ', 'ロシア', 'イタリア'],
                answer: 2,
                explanation: 'ロシアはヨーロッパとアジアにまたがる国で、ヨーロッパ部分だけでも最大の面積を持ちます。',
                points: 2
            },
            {
                id: '38',
                category: '地理',
                subcategory: '日本の地形',
                difficulty: 'advanced',
                question: '日本アルプスに含まれない山脈はどれですか？',
                type: 'multiple-choice',
                options: ['飛騨山脈', '木曽山脈', '赤石山脈', '奥羽山脈'],
                answer: 3,
                explanation: '日本アルプスは飛騨山脈（北アルプス）、木曽山脈（中央アルプス）、赤石山脈（南アルプス）の3つです。',
                points: 3
            },
            {
                id: '39',
                category: '地理',
                subcategory: '日本の平野',
                difficulty: 'standard',
                question: '濃尾平野がある地域はどこですか？',
                type: 'multiple-choice',
                options: ['関東地方', '関西地方', '中部地方', '九州地方'],
                answer: 2,
                explanation: '濃尾平野は愛知県と岐阜県にまたがる平野で、中部地方にあります。',
                points: 2
            },
            {
                id: '40',
                category: '地理',
                subcategory: '日本の川',
                difficulty: 'standard',
                question: '利根川が流れる地方はどこですか？',
                type: 'multiple-choice',
                options: ['東北地方', '関東地方', '中部地方', '近畿地方'],
                answer: 1,
                explanation: '利根川は関東地方を流れる川で、関東平野を潤しています。',
                points: 2
            },
            {
                id: '41',
                category: '地理',
                subcategory: '日本の湖',
                difficulty: 'basic',
                question: '日本で最も大きい湖は（　　　）です。',
                type: 'fill-in-blank',
                answer: '琵琶湖',
                explanation: '琵琶湖は滋賀県にある日本最大の湖で、面積は約670平方キロメートルです。',
                points: 1
            },
            {
                id: '42',
                category: '地理',
                subcategory: '気候',
                difficulty: 'standard',
                question: '太平洋側の夏の気候の特徴として正しいものはどれですか？',
                type: 'multiple-choice',
                options: ['雪が多い', '乾燥している', '高温多湿', '雨が少ない'],
                answer: 2,
                explanation: '太平洋側の夏は高温多湿で、梅雨や台風の影響を受けやすいです。',
                points: 2
            },
            {
                id: '43',
                category: '地理',
                subcategory: '農業',
                difficulty: 'basic',
                question: '北海道で盛んな農業はどれですか？',
                type: 'multiple-choice',
                options: ['稲作', '畑作', '果樹栽培', '花卉栽培'],
                answer: 1,
                explanation: '北海道は冷涼な気候を生かした畑作（じゃがいも、とうもろこし、小麦など）が盛んです。',
                points: 1
            },
            {
                id: '44',
                category: '地理',
                subcategory: '工業',
                difficulty: 'advanced',
                question: '北九州工業地帯の中心となる工業は何ですか？',
                type: 'multiple-choice',
                options: ['繊維工業', '鉄鋼業', '化学工業', '自動車工業'],
                answer: 1,
                explanation: '北九州工業地帯は八幡製鉄所を中心とした鉄鋼業が発達しました。',
                points: 3
            },
            {
                id: '45',
                category: '地理',
                subcategory: '人口',
                difficulty: 'standard',
                question: '日本で人口が最も多い都道府県はどこですか？',
                type: 'multiple-choice',
                options: ['東京都', '大阪府', '神奈川県', '愛知県'],
                answer: 0,
                explanation: '東京都は日本で最も人口が多い都道府県で、約1400万人が住んでいます。',
                points: 2
            },
            {
                id: '46',
                category: '歴史',
                subcategory: '縄文・弥生時代',
                difficulty: 'standard',
                question: '縄文時代の特徴として正しくないものはどれですか？',
                type: 'multiple-choice',
                options: ['狩猟・採集生活', '縄文土器', '竪穴住居', '古墳'],
                answer: 3,
                explanation: '古墳は古墳時代の特徴で、縄文時代にはありませんでした。',
                points: 2
            },
            {
                id: '47',
                category: '歴史',
                subcategory: '古墳時代',
                difficulty: 'basic',
                question: '古墳時代に作られた日本最大の古墳は何ですか？',
                type: 'multiple-choice',
                options: ['大仙陵古墳', '石舞台古墳', '高松塚古墳', 'キトラ古墳'],
                answer: 0,
                explanation: '大仙陵古墳（仁徳天皇陵）は大阪府堺市にある日本最大の古墳です。',
                points: 1
            },
            {
                id: '48',
                category: '歴史',
                subcategory: '飛鳥時代',
                difficulty: 'standard',
                question: '大化の改新が行われたのは何年ですか？',
                type: 'multiple-choice',
                options: ['645年', '646年', '647年', '648年'],
                answer: 0,
                explanation: '645年に中大兄皇子と中臣鎌足が蘇我入鹿を倒し、大化の改新が始まりました。',
                points: 2
            },
            {
                id: '49',
                category: '歴史',
                subcategory: '奈良時代',
                difficulty: 'advanced',
                question: '奈良の大仏が完成したのは何年ですか？',
                type: 'multiple-choice',
                options: ['751年', '752年', '753年', '754年'],
                answer: 1,
                explanation: '奈良の大仏（東大寺の盧舎那仏）は752年に完成し、開眼供養が行われました。',
                points: 3
            },
            {
                id: '50',
                category: '歴史',
                subcategory: '平安時代',
                difficulty: 'basic',
                question: '平安時代に栄えた貴族政治を何と呼びますか？',
                type: 'multiple-choice',
                options: ['摂関政治', '院政', '執権政治', '幕府政治'],
                answer: 0,
                explanation: '平安時代中期には藤原氏による摂関政治が栄えました。',
                points: 1
            },
            {
                id: '51',
                category: '歴史',
                subcategory: '平安時代',
                difficulty: 'standard',
                question: '源氏物語を書いたのは（　　　）です。',
                type: 'fill-in-blank',
                answer: '紫式部',
                explanation: '紫式部が平安時代中期に書いた源氏物語は、世界最古の長編小説とされています。',
                points: 2
            },
            {
                id: '52',
                category: '歴史',
                subcategory: '鎌倉時代',
                difficulty: 'standard',
                question: '元寇が起こったのは何時代ですか？',
                type: 'multiple-choice',
                options: ['平安時代', '鎌倉時代', '室町時代', '安土桃山時代'],
                answer: 1,
                explanation: '元寇（蒙古襲来）は1274年と1281年の2回、鎌倉時代に起こりました。',
                points: 2
            },
            {
                id: '53',
                category: '歴史',
                subcategory: '室町時代',
                difficulty: 'basic',
                question: '室町幕府を開いたのは誰ですか？',
                type: 'multiple-choice',
                options: ['源頼朝', '足利尊氏', '徳川家康', '豊臣秀吉'],
                answer: 1,
                explanation: '足利尊氏が1338年に室町幕府を開きました。',
                points: 1
            },
            {
                id: '54',
                category: '歴史',
                subcategory: '室町時代',
                difficulty: 'advanced',
                question: '銀閣寺を建てたのは誰ですか？',
                type: 'multiple-choice',
                options: ['足利尊氏', '足利義満', '足利義政', '足利義昭'],
                answer: 2,
                explanation: '8代将軍足利義政が1482年に銀閣寺（慈照寺）を建てました。',
                points: 3
            },
            {
                id: '55',
                category: '歴史',
                subcategory: '安土桃山時代',
                difficulty: 'standard',
                question: '豊臣秀吉が全国統一を完成させたのは何年ですか？',
                type: 'multiple-choice',
                options: ['1588年', '1590年', '1592年', '1598年'],
                answer: 1,
                explanation: '1590年に小田原征伐で北条氏を滅ぼし、豊臣秀吉が全国統一を完成させました。',
                points: 2
            },
            {
                id: '56',
                category: '歴史',
                subcategory: '江戸時代',
                difficulty: 'advanced',
                question: '鎖国政策を始めたのは何代将軍の時代ですか？',
                type: 'multiple-choice',
                options: ['初代', '2代', '3代', '4代'],
                answer: 2,
                explanation: '3代将軍徳川家光の時代に鎖国政策が完成しました。',
                points: 3
            },
            {
                id: '57',
                category: '歴史',
                subcategory: '江戸時代',
                difficulty: 'basic',
                question: '江戸時代の学問所として有名なのはどれですか？',
                type: 'multiple-choice',
                options: ['寺子屋', '藩校', '昌平坂学問所', 'すべて'],
                answer: 3,
                explanation: '江戸時代には寺子屋、藩校、昌平坂学問所などの教育機関がありました。',
                points: 1
            },
            {
                id: '58',
                category: '歴史',
                subcategory: '明治時代',
                difficulty: 'standard',
                question: '明治時代に行われた改革で、髪型や服装の自由化を何と呼びますか？',
                type: 'multiple-choice',
                options: ['文明開化', '富国強兵', '殖産興業', '四民平等'],
                answer: 0,
                explanation: '文明開化により、ちょんまげを切ったり洋服を着たりする西洋化が進みました。',
                points: 2
            },
            {
                id: '59',
                category: '歴史',
                subcategory: '明治時代',
                difficulty: 'advanced',
                question: '明治憲法が発布されたのは何年ですか？',
                type: 'multiple-choice',
                options: ['1888年', '1889年', '1890年', '1891年'],
                answer: 1,
                explanation: '大日本帝国憲法（明治憲法）は1889年に発布されました。',
                points: 3
            },
            {
                id: '60',
                category: '歴史',
                subcategory: '大正時代',
                difficulty: 'basic',
                question: '大正時代に起こった民主主義の運動を何と呼びますか？',
                type: 'multiple-choice',
                options: ['大正デモクラシー', '自由民権運動', '護憲運動', '普通選挙運動'],
                answer: 0,
                explanation: '大正時代には大正デモクラシーと呼ばれる民主主義の風潮が高まりました。',
                points: 1
            },
            {
                id: '61',
                category: '歴史',
                subcategory: '昭和時代',
                difficulty: 'standard',
                question: '現在の日本国憲法が施行されたのは何年ですか？',
                type: 'multiple-choice',
                options: ['1946年', '1947年', '1948年', '1949年'],
                answer: 1,
                explanation: '日本国憲法は1947年5月3日に施行されました。この日は憲法記念日です。',
                points: 2
            },
            {
                id: '62',
                category: '公民',
                subcategory: '日本国憲法',
                difficulty: 'standard',
                question: '日本国憲法第9条で定められているのは何ですか？',
                type: 'multiple-choice',
                options: ['国民主権', '基本的人権', '戦争放棄', '三権分立'],
                answer: 2,
                explanation: '憲法第9条は戦争放棄と戦力不保持を定めた平和主義の条文です。',
                points: 2
            },
            {
                id: '63',
                category: '公民',
                subcategory: '基本的人権',
                difficulty: 'basic',
                question: '表現の自由は基本的人権に含まれる。',
                type: 'true-false',
                answer: 1,
                explanation: '表現の自由は憲法第21条で保障される精神的自由権の一つです。',
                points: 1
            },
            {
                id: '64',
                category: '公民',
                subcategory: '国会',
                difficulty: 'advanced',
                question: '参議院議員の任期は何年ですか？',
                type: 'multiple-choice',
                options: ['4年', '5年', '6年', '7年'],
                answer: 2,
                explanation: '参議院議員の任期は6年で、3年ごとに半数が改選されます。',
                points: 3
            },
            {
                id: '65',
                category: '公民',
                subcategory: '内閣',
                difficulty: 'basic',
                question: '内閣の長は誰ですか？',
                type: 'multiple-choice',
                options: ['大統領', '首相', '天皇', '国会議長'],
                answer: 1,
                explanation: '内閣の長は内閣総理大臣（首相）です。',
                points: 1
            },
            {
                id: '66',
                category: '公民',
                subcategory: '裁判所',
                difficulty: 'standard',
                question: '最高裁判所の裁判官は何人ですか？',
                type: 'multiple-choice',
                options: ['13人', '14人', '15人', '16人'],
                answer: 2,
                explanation: '最高裁判所は長官1人と判事14人の計15人の裁判官で構成されます。',
                points: 2
            },
            {
                id: '67',
                category: '公民',
                subcategory: '地方自治',
                difficulty: 'basic',
                question: '市町村の議会の議員を選ぶ選挙を何と呼びますか？',
                type: 'multiple-choice',
                options: ['国政選挙', '地方選挙', '住民投票', '世論調査'],
                answer: 1,
                explanation: '市町村議会議員選挙は地方選挙の一つです。',
                points: 1
            },
            {
                id: '68',
                category: '公民',
                subcategory: '国際関係',
                difficulty: 'standard',
                question: '日本が国連に加盟したのは何年ですか？',
                type: 'multiple-choice',
                options: ['1955年', '1956年', '1957年', '1958年'],
                answer: 1,
                explanation: '日本は1956年12月18日に国際連合に加盟しました。',
                points: 2
            },
            {
                id: '69',
                category: '公民',
                subcategory: '経済',
                difficulty: 'basic',
                question: '日本の通貨単位は（　　）です。',
                type: 'fill-in-blank',
                answer: '円',
                explanation: '日本の通貨単位は円（¥）です。',
                points: 1
            },
            {
                id: '70',
                category: '地理',
                subcategory: '世界の大陸',
                difficulty: 'basic',
                question: '世界で最も面積が大きい大陸はどこですか？',
                type: 'multiple-choice',
                options: ['アフリカ大陸', 'ユーラシア大陸', '北アメリカ大陸', '南アメリカ大陸'],
                answer: 1,
                explanation: 'ユーラシア大陸（ヨーロッパとアジアを合わせた大陸）が世界最大です。',
                points: 1
            },
            {
                id: '71',
                category: '地理',
                subcategory: '世界の海洋',
                difficulty: 'standard',
                question: '世界で最も深い海溝はどこですか？',
                type: 'multiple-choice',
                options: ['日本海溝', 'マリアナ海溝', 'ペルー・チリ海溝', 'プエルトリコ海溝'],
                answer: 1,
                explanation: 'マリアナ海溝は太平洋にある世界最深の海溝で、水深約11,000mです。',
                points: 2
            },
            {
                id: '72',
                category: '地理',
                subcategory: '世界の山脈',
                difficulty: 'basic',
                question: '世界で最も高い山は何ですか？',
                type: 'multiple-choice',
                options: ['K2', 'エベレスト', 'カンチェンジュンガ', 'ローツェ'],
                answer: 1,
                explanation: 'エベレスト（チョモランマ）は標高8,849mで世界最高峰です。',
                points: 1
            },
            {
                id: '73',
                category: '地理',
                subcategory: '世界の川',
                difficulty: 'standard',
                question: '世界で最も長い川はどれですか？',
                type: 'multiple-choice',
                options: ['アマゾン川', 'ナイル川', '長江', 'ミシシッピ川'],
                answer: 1,
                explanation: 'ナイル川はアフリカ大陸を流れる世界最長の川で、全長約6,650kmです。',
                points: 2
            },
            {
                id: '74',
                category: '地理',
                subcategory: '日本の島',
                difficulty: 'advanced',
                question: '沖縄県で最も大きい島は何ですか？',
                type: 'multiple-choice',
                options: ['沖縄本島', '石垣島', '宮古島', '西表島'],
                answer: 0,
                explanation: '沖縄本島は沖縄県で最も大きい島で、県庁所在地の那覇市があります。',
                points: 3
            },
            {
                id: '75',
                category: '歴史',
                subcategory: '世界史',
                difficulty: 'basic',
                question: 'アメリカが独立したのは何年ですか？',
                type: 'multiple-choice',
                options: ['1775年', '1776年', '1777年', '1778年'],
                answer: 1,
                explanation: 'アメリカは1776年7月4日に独立宣言を発表し、イギリスから独立しました。',
                points: 1
            },
            {
                id: '76',
                category: '歴史',
                subcategory: '世界史',
                difficulty: 'standard',
                question: 'フランス革命が起こったのは何年ですか？',
                type: 'multiple-choice',
                options: ['1788年', '1789年', '1790年', '1791年'],
                answer: 1,
                explanation: 'フランス革命は1789年に始まり、絶対王政を倒しました。',
                points: 2
            },
            {
                id: '77',
                category: '地理',
                subcategory: '時差',
                difficulty: 'standard',
                question: '日本とイギリスの時差は何時間ですか？',
                type: 'multiple-choice',
                options: ['8時間', '9時間', '10時間', '11時間'],
                answer: 1,
                explanation: '日本はイギリスより9時間進んでいます（サマータイム除く）。',
                points: 2
            },
            {
                id: '78',
                category: '地理',
                subcategory: '日本の県庁所在地',
                difficulty: 'basic',
                question: '北海道の県庁所在地はどこですか？',
                type: 'multiple-choice',
                options: ['札幌市', '函館市', '旭川市', '釧路市'],
                answer: 0,
                explanation: '北海道庁（道庁）の所在地は札幌市です。',
                points: 1
            },
            {
                id: '79',
                category: '地理',
                subcategory: '日本の県庁所在地',
                difficulty: 'standard',
                question: '群馬県の県庁所在地はどこですか？',
                type: 'multiple-choice',
                options: ['高崎市', '前橋市', '太田市', '伊勢崎市'],
                answer: 1,
                explanation: '群馬県の県庁所在地は前橋市です。',
                points: 2
            },
            {
                id: '80',
                category: '歴史',
                subcategory: '文化',
                difficulty: 'basic',
                question: '平安時代の文字で、女性が使った文字は何ですか？',
                type: 'multiple-choice',
                options: ['漢字', 'ひらがな', 'カタカナ', 'ローマ字'],
                answer: 1,
                explanation: '平安時代の女性は「女手」と呼ばれるひらがなを使って文学作品を書きました。',
                points: 1
            },
            {
                id: '81',
                category: '公民',
                subcategory: '税金',
                difficulty: 'basic',
                question: '消費税は間接税である。',
                type: 'true-false',
                answer: 1,
                explanation: '消費税は商品やサービスの価格に含まれる間接税です。',
                points: 1
            },
            {
                id: '82',
                category: '公民',
                subcategory: '社会保障',
                difficulty: 'standard',
                question: '国民皆保険制度とは何ですか？',
                type: 'multiple-choice',
                options: ['すべての国民が保険に加入する制度', '国が保険料を払う制度', '保険料が無料の制度', '外国人も加入できる制度'],
                answer: 0,
                explanation: '国民皆保険制度により、すべての国民が何らかの医療保険に加入しています。',
                points: 2
            },
            {
                id: '83',
                category: '地理',
                subcategory: '環境問題',
                difficulty: 'standard',
                question: '地球温暖化の主な原因とされる気体は何ですか？',
                type: 'multiple-choice',
                options: ['酸素', '窒素', '二酸化炭素', '水素'],
                answer: 2,
                explanation: '二酸化炭素などの温室効果ガスが地球温暖化の主な原因とされています。',
                points: 2
            },
            {
                id: '84',
                category: '地理',
                subcategory: '資源',
                difficulty: 'basic',
                question: '日本のエネルギー自給率は高い。',
                type: 'true-false',
                answer: 0,
                explanation: '日本のエネルギー自給率は約10%程度で、多くを輸入に依存しています。',
                points: 1
            },
            {
                id: '85',
                category: '歴史',
                subcategory: '江戸時代',
                difficulty: 'standard',
                question: '参勤交代制度の目的は何でしたか？',
                type: 'multiple-choice',
                options: ['大名の教育', '大名の経済力削減', '交通整備', '文化交流'],
                answer: 1,
                explanation: '参勤交代は大名の経済力を削減し、江戸幕府の統制を強める目的がありました。',
                points: 2
            },
            {
                id: '86',
                category: '地理',
                subcategory: '交通',
                difficulty: 'basic',
                question: '日本の新幹線が最初に開通したのは何年ですか？',
                type: 'multiple-choice',
                options: ['1963年', '1964年', '1965年', '1966年'],
                answer: 1,
                explanation: '東海道新幹線は1964年の東京オリンピック開催に合わせて開通しました。',
                points: 1
            },
            {
                id: '87',
                category: '公民',
                subcategory: 'メディア',
                difficulty: 'standard',
                question: '情報を正しく判断するために大切なことは何ですか？',
                type: 'multiple-choice',
                options: ['1つの情報源だけを信じる', '複数の情報源を比較する', 'インターネットの情報をすべて信じる', '新しい情報だけを信じる'],
                answer: 1,
                explanation: '正確な判断のためには、複数の情報源を比較検討することが大切です。',
                points: 2
            },
            {
                id: '88',
                category: '地理',
                subcategory: '災害',
                difficulty: 'basic',
                question: '日本でよく起こる自然災害に含まれないものはどれですか？',
                type: 'multiple-choice',
                options: ['地震', '台風', '竜巻', '砂漠化'],
                answer: 3,
                explanation: '日本では地震、台風、竜巻などは起こりますが、砂漠化は起こりません。',
                points: 1
            },
            {
                id: '89',
                category: '歴史',
                subcategory: '明治時代',
                difficulty: 'advanced',
                question: '日露戦争が終結したのは何年ですか？',
                type: 'multiple-choice',
                options: ['1904年', '1905年', '1906年', '1907年'],
                answer: 1,
                explanation: '日露戦争は1904年に始まり、1905年のポーツマス条約で終結しました。',
                points: 3
            },
            {
                id: '90',
                category: '公民',
                subcategory: '国際機関',
                difficulty: 'standard',
                question: 'ユニセフ（UNICEF）は何のための国際機関ですか？',
                type: 'multiple-choice',
                options: ['環境保護', '児童支援', '経済協力', '平和維持'],
                answer: 1,
                explanation: 'ユニセフは世界の子どもたちの権利を守り、支援する国際機関です。',
                points: 2
            },
            {
                id: '91',
                category: '地理',
                subcategory: '世界の気候',
                difficulty: 'standard',
                question: '赤道付近の気候を何と呼びますか？',
                type: 'multiple-choice',
                options: ['熱帯気候', '温帯気候', '冷帯気候', '寒帯気候'],
                answer: 0,
                explanation: '赤道付近は年中高温多湿の熱帯気候です。',
                points: 2
            },
            {
                id: '92',
                category: '歴史',
                subcategory: '古代',
                difficulty: 'standard',
                question: '遣唐使が廃止されたのは何時代ですか？',
                type: 'multiple-choice',
                options: ['奈良時代', '平安時代初期', '平安時代中期', '鎌倉時代'],
                answer: 2,
                explanation: '894年に菅原道真の建議により遣唐使が廃止されました（平安時代中期）。',
                points: 2
            },
            {
                id: '93',
                category: '公民',
                subcategory: '人権',
                difficulty: 'basic',
                question: '子どもの権利条約が国連で採択されたのは何年ですか？',
                type: 'multiple-choice',
                options: ['1988年', '1989年', '1990年', '1991年'],
                answer: 1,
                explanation: '子どもの権利条約は1989年に国連で採択されました。',
                points: 1
            },
            {
                id: '94',
                category: '地理',
                subcategory: '世界の食文化',
                difficulty: 'basic',
                question: '世界で最も多くの人が主食としている作物は何ですか？',
                type: 'multiple-choice',
                options: ['米', '小麦', 'とうもろこし', 'じゃがいも'],
                answer: 1,
                explanation: '小麦は世界で最も広く主食として利用されている作物です。',
                points: 1
            },
            {
                id: '95',
                category: '歴史',
                subcategory: '戦後',
                difficulty: 'standard',
                question: '東京オリンピックが初めて開催されたのは何年ですか？',
                type: 'multiple-choice',
                options: ['1962年', '1963年', '1964年', '1965年'],
                answer: 2,
                explanation: '東京オリンピックは1964年に開催され、日本の戦後復興を世界に示しました。',
                points: 2
            },
            {
                id: '96',
                category: '公民',
                subcategory: '環境',
                difficulty: 'standard',
                question: 'リサイクルの3Rに含まれないものはどれですか？',
                type: 'multiple-choice',
                options: ['Reduce（削減）', 'Reuse（再利用）', 'Recycle（再資源化）', 'Replace（置換）'],
                answer: 3,
                explanation: '3RはReduce（削減）、Reuse（再利用）、Recycle（再資源化）です。',
                points: 2
            },
            {
                id: '97',
                category: '地理',
                subcategory: '日本の祭り',
                difficulty: 'basic',
                question: '青森県の有名な祭りは何ですか？',
                type: 'multiple-choice',
                options: ['ねぶた祭り', '阿波踊り', '祇園祭', '天神祭'],
                answer: 0,
                explanation: '青森ねぶた祭りは青森県の代表的な夏祭りです。',
                points: 1
            },
            {
                id: '98',
                category: '歴史',
                subcategory: '文化財',
                difficulty: 'standard',
                question: '法隆寺がある都道府県はどこですか？',
                type: 'multiple-choice',
                options: ['京都府', '奈良県', '大阪府', '滋賀県'],
                answer: 1,
                explanation: '法隆寺は奈良県にある世界最古の木造建築物です。',
                points: 2
            },
            {
                id: '99',
                category: '公民',
                subcategory: '選挙制度',
                difficulty: 'advanced',
                question: '衆議院議員の選挙制度は何ですか？',
                type: 'multiple-choice',
                options: ['小選挙区制', '比例代表制', '小選挙区比例代表並立制', '中選挙区制'],
                answer: 2,
                explanation: '衆議院は小選挙区制と比例代表制を組み合わせた並立制です。',
                points: 3
            },
            {
                id: '100',
                category: '地理',
                subcategory: '世界遺産',
                difficulty: 'basic',
                question: '屋久島が世界遺産に登録されたのは何のためですか？',
                type: 'multiple-choice',
                options: ['文化的価値', '自然的価値', '歴史的価値', '経済的価値'],
                answer: 1,
                explanation: '屋久島は豊かな自然環境が評価されて世界自然遺産に登録されました。',
                points: 1
            }
        ];

        // クイズロジック
        function useQuiz() {
            const [currentSession, setCurrentSession] = useState(null);
            const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);

            const startQuiz = useCallback((options = {}) => {
                let filteredQuestions = [...questionBank];

                if (options.category) {
                    filteredQuestions = filteredQuestions.filter(q => q.category === options.category);
                }
                
                if (options.difficulty) {
                    filteredQuestions = filteredQuestions.filter(q => q.difficulty === options.difficulty);
                }

                const questionCount = Math.min(options.questionCount || 10, filteredQuestions.length);
                const selectedQuestions = filteredQuestions
                    .sort(() => Math.random() - 0.5)
                    .slice(0, questionCount);

                const session = {
                    id: Date.now().toString(),
                    questions: selectedQuestions,
                    answers: new Array(selectedQuestions.length).fill(null),
                    startTime: new Date(),
                    maxScore: selectedQuestions.reduce((sum, q) => sum + q.points, 0)
                };

                setCurrentSession(session);
                setCurrentQuestionIndex(0);
            }, []);

            const answerQuestion = useCallback((answer) => {
                if (!currentSession) return;

                const updatedAnswers = [...currentSession.answers];
                updatedAnswers[currentQuestionIndex] = answer;

                setCurrentSession({
                    ...currentSession,
                    answers: updatedAnswers
                });
            }, [currentSession, currentQuestionIndex]);

            const nextQuestion = useCallback(() => {
                if (!currentSession) return;
                
                if (currentQuestionIndex < currentSession.questions.length - 1) {
                    setCurrentQuestionIndex(currentQuestionIndex + 1);
                }
            }, [currentSession, currentQuestionIndex]);

            const previousQuestion = useCallback(() => {
                if (currentQuestionIndex > 0) {
                    setCurrentQuestionIndex(currentQuestionIndex - 1);
                }
            }, [currentQuestionIndex]);

            const finishQuiz = useCallback(() => {
                if (!currentSession) return null;

                const results = currentSession.questions.map((question, index) => {
                    const userAnswer = currentSession.answers[index];
                    const correctAnswer = question.answer;
                    const isCorrect = userAnswer === correctAnswer;

                    return {
                        questionId: question.id,
                        isCorrect,
                        userAnswer,
                        correctAnswer
                    };
                });

                const score = results.reduce((sum, result, index) => {
                    return sum + (result.isCorrect ? currentSession.questions[index].points : 0);
                }, 0);

                const correctAnswers = results.filter(r => r.isCorrect).length;

                const quizResult = {
                    sessionId: currentSession.id,
                    score,
                    maxScore: currentSession.maxScore,
                    percentage: Math.round((score / currentSession.maxScore) * 100),
                    correctAnswers,
                    totalQuestions: currentSession.questions.length,
                    results
                };

                setCurrentSession(null);
                setCurrentQuestionIndex(0);

                return quizResult;
            }, [currentSession]);

            const getCurrentQuestion = useCallback(() => {
                if (!currentSession) return null;
                return currentSession.questions[currentQuestionIndex] || null;
            }, [currentSession, currentQuestionIndex]);

            const isLastQuestion = currentSession ? currentQuestionIndex === currentSession.questions.length - 1 : false;
            const isFirstQuestion = currentQuestionIndex === 0;
            const progress = currentSession ? ((currentQuestionIndex + 1) / currentSession.questions.length) * 100 : 0;

            return {
                currentSession,
                currentQuestionIndex,
                startQuiz,
                answerQuestion,
                nextQuestion,
                previousQuestion,
                finishQuiz,
                getCurrentQuestion,
                isLastQuestion,
                isFirstQuestion,
                progress
            };
        }

        // クイズ設定コンポーネント
        function QuizSetup({ onStartQuiz }) {
            const [category, setCategory] = useState('');
            const [difficulty, setDifficulty] = useState('');
            const [questionCount, setQuestionCount] = useState(5);

            const handleStart = () => {
                onStartQuiz({
                    category: category || undefined,
                    difficulty: difficulty || undefined,
                    questionCount
                });
            };

            return React.createElement('div', {
                style: {
                    maxWidth: '500px',
                    margin: '0 auto',
                    padding: '30px',
                    textAlign: 'center'
                }
            }, [
                React.createElement('h1', {
                    key: 'title',
                    style: { 
                        marginBottom: '30px',
                        color: '#333',
                        fontSize: '28px'
                    }
                }, '中学受験 社会科問題'),

                React.createElement('div', {
                    key: 'setup',
                    style: {
                        backgroundColor: '#f9f9f9',
                        padding: '30px',
                        borderRadius: '10px',
                        marginBottom: '20px'
                    }
                }, [
                    React.createElement('h2', {
                        key: 'setup-title',
                        style: { marginBottom: '20px', fontSize: '20px' }
                    }, 'クイズ設定'),

                    React.createElement('div', {
                        key: 'category',
                        style: { marginBottom: '20px', textAlign: 'left' }
                    }, [
                        React.createElement('label', {
                            key: 'category-label',
                            style: { 
                                display: 'block', 
                                marginBottom: '8px',
                                fontWeight: 'bold'
                            }
                        }, '分野を選択:'),
                        React.createElement('select', {
                            key: 'category-select',
                            value: category,
                            onChange: (e) => setCategory(e.target.value),
                            style: {
                                width: '100%',
                                padding: '10px',
                                fontSize: '16px',
                                border: '2px solid #ddd',
                                borderRadius: '6px'
                            }
                        }, [
                            React.createElement('option', { key: 'all', value: '' }, 'すべての分野'),
                            React.createElement('option', { key: 'geo', value: '地理' }, '地理'),
                            React.createElement('option', { key: 'his', value: '歴史' }, '歴史'),
                            React.createElement('option', { key: 'civ', value: '公民' }, '公民')
                        ])
                    ]),

                    React.createElement('div', {
                        key: 'difficulty',
                        style: { marginBottom: '20px', textAlign: 'left' }
                    }, [
                        React.createElement('label', {
                            key: 'difficulty-label',
                            style: { 
                                display: 'block', 
                                marginBottom: '8px',
                                fontWeight: 'bold'
                            }
                        }, '難易度を選択:'),
                        React.createElement('select', {
                            key: 'difficulty-select',
                            value: difficulty,
                            onChange: (e) => setDifficulty(e.target.value),
                            style: {
                                width: '100%',
                                padding: '10px',
                                fontSize: '16px',
                                border: '2px solid #ddd',
                                borderRadius: '6px'
                            }
                        }, [
                            React.createElement('option', { key: 'all', value: '' }, 'すべての難易度'),
                            React.createElement('option', { key: 'basic', value: 'basic' }, '基本'),
                            React.createElement('option', { key: 'standard', value: 'standard' }, '標準'),
                            React.createElement('option', { key: 'advanced', value: 'advanced' }, '発展')
                        ])
                    ]),

                    React.createElement('div', {
                        key: 'count',
                        style: { marginBottom: '30px', textAlign: 'left' }
                    }, [
                        React.createElement('label', {
                            key: 'count-label',
                            style: { 
                                display: 'block', 
                                marginBottom: '8px',
                                fontWeight: 'bold'
                            }
                        }, `問題数: ${questionCount}問`),
                        React.createElement('input', {
                            key: 'count-input',
                            type: 'range',
                            min: '3',
                            max: '10',
                            value: questionCount,
                            onChange: (e) => setQuestionCount(parseInt(e.target.value)),
                            style: { width: '100%' }
                        }),
                        React.createElement('div', {
                            key: 'count-range',
                            style: { 
                                display: 'flex', 
                                justifyContent: 'space-between',
                                fontSize: '12px',
                                color: '#666',
                                marginTop: '5px'
                            }
                        }, [
                            React.createElement('span', { key: 'min' }, '3問'),
                            React.createElement('span', { key: 'max' }, '10問')
                        ])
                    ]),

                    React.createElement('button', {
                        key: 'start-button',
                        onClick: handleStart,
                        style: {
                            backgroundColor: '#4CAF50',
                            color: 'white',
                            border: 'none',
                            padding: '15px 30px',
                            fontSize: '18px',
                            borderRadius: '8px',
                            cursor: 'pointer',
                            width: '100%'
                        }
                    }, 'クイズを開始する')
                ]),

                React.createElement('div', {
                    key: 'description',
                    style: { 
                        fontSize: '14px', 
                        color: '#666',
                        lineHeight: '1.5'
                    }
                }, [
                    '小学6年生向けの中学受験対策問題です。',
                    React.createElement('br', { key: 'br' }),
                    '地理・歴史・公民の各分野から出題されます。'
                ])
            ]);
        }

        // 問題カードコンポーネント
        function QuestionCard({ question, currentAnswer, onAnswerChange, questionNumber, totalQuestions }) {
            const getDifficultyColor = (difficulty) => {
                switch (difficulty) {
                    case 'basic': return '#4CAF50';
                    case 'standard': return '#FF9800';
                    case 'advanced': return '#F44336';
                    default: return '#999';
                }
            };

            const getDifficultyText = (difficulty) => {
                switch (difficulty) {
                    case 'basic': return '基本';
                    case 'standard': return '標準';
                    case 'advanced': return '発展';
                    default: return '';
                }
            };

            const renderAnswerInput = () => {
                switch (question.type) {
                    case 'multiple-choice':
                        return question.options.map((option, index) => 
                            React.createElement('label', {
                                key: index,
                                style: {
                                    display: 'block',
                                    margin: '10px 0',
                                    padding: '10px',
                                    border: '2px solid #ddd',
                                    borderRadius: '6px',
                                    cursor: 'pointer',
                                    backgroundColor: currentAnswer === index ? '#e3f2fd' : 'white',
                                    borderColor: currentAnswer === index ? '#2196F3' : '#ddd'
                                }
                            }, [
                                React.createElement('input', {
                                    key: 'radio',
                                    type: 'radio',
                                    name: `question-${question.id}`,
                                    checked: currentAnswer === index,
                                    onChange: () => onAnswerChange(index),
                                    style: { marginRight: '10px' }
                                }),
                                option
                            ])
                        );

                    case 'fill-in-blank':
                        return React.createElement('input', {
                            type: 'text',
                            value: currentAnswer || '',
                            onChange: (e) => onAnswerChange(e.target.value),
                            placeholder: '答えを入力してください',
                            style: {
                                width: '100%',
                                padding: '12px',
                                fontSize: '16px',
                                border: '2px solid #ddd',
                                borderRadius: '6px',
                                marginTop: '10px'
                            }
                        });

                    case 'true-false':
                        return React.createElement('div', {
                            style: { display: 'flex', gap: '20px', marginTop: '10px' }
                        }, [
                            React.createElement('label', {
                                key: 'true',
                                style: {
                                    display: 'flex',
                                    alignItems: 'center',
                                    padding: '10px 20px',
                                    border: '2px solid #ddd',
                                    borderRadius: '6px',
                                    cursor: 'pointer',
                                    backgroundColor: currentAnswer === 1 ? '#e8f5e8' : 'white',
                                    borderColor: currentAnswer === 1 ? '#4CAF50' : '#ddd'
                                }
                            }, [
                                React.createElement('input', {
                                    key: 'radio',
                                    type: 'radio',
                                    name: `question-${question.id}`,
                                    checked: currentAnswer === 1,
                                    onChange: () => onAnswerChange(1),
                                    style: { marginRight: '8px' }
                                }),
                                '正しい'
                            ]),
                            React.createElement('label', {
                                key: 'false',
                                style: {
                                    display: 'flex',
                                    alignItems: 'center',
                                    padding: '10px 20px',
                                    border: '2px solid #ddd',
                                    borderRadius: '6px',
                                    cursor: 'pointer',
                                    backgroundColor: currentAnswer === 0 ? '#ffe8e8' : 'white',
                                    borderColor: currentAnswer === 0 ? '#F44336' : '#ddd'
                                }
                            }, [
                                React.createElement('input', {
                                    key: 'radio',
                                    type: 'radio',
                                    name: `question-${question.id}`,
                                    checked: currentAnswer === 0,
                                    onChange: () => onAnswerChange(0),
                                    style: { marginRight: '8px' }
                                }),
                                '間違い'
                            ])
                        ]);

                    default:
                        return null;
                }
            };

            return React.createElement('div', {
                style: {
                    maxWidth: '600px',
                    margin: '0 auto',
                    padding: '20px',
                    border: '1px solid #ddd',
                    borderRadius: '10px',
                    backgroundColor: 'white',
                    boxShadow: '0 2px 4px rgba(0,0,0,0.1)'
                }
            }, [
                React.createElement('div', {
                    key: 'header',
                    style: { 
                        display: 'flex', 
                        justifyContent: 'space-between', 
                        alignItems: 'center',
                        marginBottom: '20px'
                    }
                }, [
                    React.createElement('div', { key: 'info' }, [
                        React.createElement('span', {
                            key: 'difficulty',
                            style: {
                                backgroundColor: getDifficultyColor(question.difficulty),
                                color: 'white',
                                padding: '4px 8px',
                                borderRadius: '4px',
                                fontSize: '12px',
                                marginRight: '10px'
                            }
                        }, getDifficultyText(question.difficulty)),
                        React.createElement('span', {
                            key: 'category',
                            style: { fontSize: '14px', color: '#666' }
                        }, `${question.category} - ${question.subcategory}`)
                    ]),
                    React.createElement('div', {
                        key: 'progress',
                        style: { fontSize: '14px', color: '#666' }
                    }, `問題 ${questionNumber} / ${totalQuestions}`)
                ]),

                React.createElement('div', {
                    key: 'question',
                    style: { 
                        fontSize: '18px', 
                        fontWeight: 'bold', 
                        marginBottom: '20px',
                        lineHeight: '1.5'
                    }
                }, question.question),

                React.createElement('div', { key: 'answers' }, renderAnswerInput()),

                React.createElement('div', {
                    key: 'points',
                    style: { 
                        marginTop: '20px', 
                        textAlign: 'right',
                        fontSize: '14px',
                        color: '#666'
                    }
                }, `配点: ${question.points}点`)
            ]);
        }

        // 進捗バーコンポーネント
        function ProgressBar({ progress, currentQuestion, totalQuestions }) {
            return React.createElement('div', {
                style: { 
                    marginBottom: '20px',
                    padding: '0 20px'
                }
            }, [
                React.createElement('div', {
                    key: 'info',
                    style: {
                        display: 'flex',
                        justifyContent: 'space-between',
                        alignItems: 'center',
                        marginBottom: '8px'
                    }
                }, [
                    React.createElement('span', {
                        key: 'label',
                        style: { fontSize: '14px', color: '#666' }
                    }, '進捗'),
                    React.createElement('span', {
                        key: 'count',
                        style: { fontSize: '14px', color: '#666' }
                    }, `${currentQuestion} / ${totalQuestions}`)
                ]),
                
                React.createElement('div', {
                    key: 'bar-container',
                    style: {
                        width: '100%',
                        height: '8px',
                        backgroundColor: '#e0e0e0',
                        borderRadius: '4px',
                        overflow: 'hidden'
                    }
                }, React.createElement('div', {
                    style: {
                        width: `${progress}%`,
                        height: '100%',
                        backgroundColor: '#4CAF50',
                        borderRadius: '4px',
                        transition: 'width 0.3s ease'
                    }
                }))
            ]);
        }

        // 結果表示コンポーネント（簡略版）
        function QuizResult({ result, questions, onRestart }) {
            const [showOnlyIncorrect, setShowOnlyIncorrect] = useState(false);

            const getScoreColor = (percentage) => {
                if (percentage >= 80) return '#4CAF50';
                if (percentage >= 60) return '#FF9800';
                return '#F44336';
            };

            const getAnswerText = (question, answer) => {
                if (answer === null) return '未回答';
                
                if (question.type === 'multiple-choice' && question.options) {
                    return question.options[answer];
                }
                
                if (question.type === 'true-false') {
                    return answer === 1 ? '正しい' : '間違い';
                }
                
                return String(answer);
            };

            return React.createElement('div', {
                style: { maxWidth: '800px', margin: '0 auto', padding: '20px' }
            }, [
                React.createElement('div', {
                    key: 'summary',
                    style: { 
                        textAlign: 'center', 
                        marginBottom: '30px',
                        padding: '20px',
                        backgroundColor: '#f5f5f5',
                        borderRadius: '10px'
                    }
                }, [
                    React.createElement('h2', { key: 'title' }, 'クイズ結果'),
                    React.createElement('div', {
                        key: 'score',
                        style: { 
                            fontSize: '48px', 
                            fontWeight: 'bold', 
                            color: getScoreColor(result.percentage),
                            margin: '10px 0'
                        }
                    }, `${result.score}/${result.maxScore}`),
                    React.createElement('div', {
                        key: 'percentage',
                        style: { fontSize: '24px', marginBottom: '10px' }
                    }, `正答率: ${result.percentage}%`),
                    React.createElement('div', {
                        key: 'correct',
                        style: { fontSize: '18px' }
                    }, `${result.correctAnswers}/${result.totalQuestions} 問正解`)
                ]),

                React.createElement('div', {
                    key: 'details',
                    style: { marginBottom: '30px' }
                }, [
                    React.createElement('div', {
                        key: 'filter-header',
                        style: { 
                            display: 'flex', 
                            justifyContent: 'space-between', 
                            alignItems: 'center',
                            marginBottom: '20px'
                        }
                    }, [
                        React.createElement('h3', { key: 'title' }, '詳細結果'),
                        React.createElement('div', {
                            key: 'buttons',
                            style: { display: 'flex', gap: '10px' }
                        }, [
                            React.createElement('button', {
                                key: 'all',
                                onClick: () => setShowOnlyIncorrect(false),
                                style: {
                                    backgroundColor: !showOnlyIncorrect ? '#2196F3' : '#e0e0e0',
                                    color: !showOnlyIncorrect ? 'white' : '#666',
                                    border: 'none',
                                    padding: '8px 16px',
                                    borderRadius: '4px',
                                    cursor: 'pointer',
                                    fontSize: '14px'
                                }
                            }, 'すべて表示'),
                            React.createElement('button', {
                                key: 'incorrect',
                                onClick: () => setShowOnlyIncorrect(true),
                                style: {
                                    backgroundColor: showOnlyIncorrect ? '#F44336' : '#e0e0e0',
                                    color: showOnlyIncorrect ? 'white' : '#666',
                                    border: 'none',
                                    padding: '8px 16px',
                                    borderRadius: '4px',
                                    cursor: 'pointer',
                                    fontSize: '14px'
                                }
                            }, '不正解のみ表示')
                        ])
                    ]),

                    showOnlyIncorrect && React.createElement('div', {
                        key: 'review-tip',
                        style: {
                            backgroundColor: '#fff3cd',
                            border: '1px solid #ffeaa7',
                            borderRadius: '6px',
                            padding: '10px',
                            marginBottom: '15px',
                            fontSize: '14px'
                        }
                    }, '💡 復習ポイント: 不正解だった問題の解説をしっかり読んで、理解を深めましょう。'),

                    ...result.results
                        .filter(resultItem => showOnlyIncorrect ? !resultItem.isCorrect : true)
                        .map((resultItem, index) => {
                            const question = questions.find(q => q.id === resultItem.questionId);
                            if (!question) return null;
                            const originalIndex = result.results.findIndex(r => r.questionId === resultItem.questionId);

                            return React.createElement('div', {
                                key: resultItem.questionId,
                                style: {
                                    border: '1px solid #ddd',
                                    borderRadius: '8px',
                                    margin: '10px 0',
                                    padding: '15px',
                                    backgroundColor: resultItem.isCorrect ? '#e8f5e8' : '#ffe8e8'
                                }
                            }, [
                                React.createElement('div', {
                                    key: 'header',
                                    style: { 
                                        display: 'flex', 
                                        alignItems: 'center', 
                                        marginBottom: '10px' 
                                    }
                                }, [
                                    React.createElement('span', {
                                        key: 'status',
                                        style: { 
                                            backgroundColor: resultItem.isCorrect ? '#4CAF50' : '#F44336',
                                            color: 'white',
                                            padding: '4px 8px',
                                            borderRadius: '4px',
                                            fontSize: '12px',
                                            marginRight: '10px'
                                        }
                                    }, resultItem.isCorrect ? '正解' : '不正解'),
                                    React.createElement('span', {
                                        key: 'info',
                                        style: { fontSize: '14px', color: '#666' }
                                    }, `問題 ${originalIndex + 1} - ${question.category} (${question.difficulty})`)
                                ]),
                                
                                React.createElement('div', {
                                    key: 'question',
                                    style: { marginBottom: '10px', fontWeight: 'bold' }
                                }, question.question),
                                
                                React.createElement('div', {
                                    key: 'user-answer',
                                    style: { marginBottom: '5px' }
                                }, ['あなたの回答: ', getAnswerText(question, resultItem.userAnswer)]),
                                
                                React.createElement('div', {
                                    key: 'correct-answer',
                                    style: { marginBottom: '10px' }
                                }, ['正解: ', getAnswerText(question, resultItem.correctAnswer)]),
                                
                                React.createElement('div', {
                                    key: 'explanation',
                                    style: { 
                                        backgroundColor: resultItem.isCorrect ? '#f0f8f0' : '#fff8f0', 
                                        padding: '10px', 
                                        borderRadius: '4px',
                                        fontSize: '14px',
                                        border: resultItem.isCorrect ? '1px solid #d4edda' : '1px solid #ffeaa7'
                                    }
                                }, ['解説: ', question.explanation])
                            ]);
                        })
                ]),

                React.createElement('div', {
                    key: 'restart',
                    style: { textAlign: 'center' }
                }, React.createElement('button', {
                    onClick: onRestart,
                    style: {
                        backgroundColor: '#2196F3',
                        color: 'white',
                        border: 'none',
                        padding: '12px 24px',
                        fontSize: '16px',
                        borderRadius: '6px',
                        cursor: 'pointer'
                    }
                }, 'もう一度挑戦する'))
            ]);
        }

        // メインアプリコンポーネント
        function App() {
            const {
                currentSession,
                currentQuestionIndex,
                startQuiz,
                answerQuestion,
                nextQuestion,
                previousQuestion,
                finishQuiz,
                getCurrentQuestion,
                isLastQuestion,
                isFirstQuestion,
                progress
            } = useQuiz();

            const [quizResult, setQuizResult] = useState(null);
            const [completedQuestions, setCompletedQuestions] = useState([]);

            const handleStartQuiz = (options) => {
                setQuizResult(null);
                setCompletedQuestions([]);
                startQuiz(options);
            };

            const handleFinishQuiz = () => {
                if (currentSession) {
                    setCompletedQuestions(currentSession.questions);
                }
                const result = finishQuiz();
                if (result) {
                    setQuizResult(result);
                }
            };

            const handleRestart = () => {
                setQuizResult(null);
                setCompletedQuestions([]);
            };

            const currentQuestion = getCurrentQuestion();

            if (quizResult) {
                return React.createElement('div', {
                    style: { minHeight: '100vh', backgroundColor: '#f5f5f5', padding: '20px' }
                }, React.createElement(QuizResult, {
                    result: quizResult,
                    questions: completedQuestions,
                    onRestart: handleRestart
                }));
            }

            if (!currentSession || !currentQuestion) {
                return React.createElement('div', {
                    style: { minHeight: '100vh', backgroundColor: '#f5f5f5', padding: '20px' }
                }, React.createElement(QuizSetup, {
                    onStartQuiz: handleStartQuiz
                }));
            }

            return React.createElement('div', {
                style: { minHeight: '100vh', backgroundColor: '#f5f5f5', padding: '20px' }
            }, [
                React.createElement(ProgressBar, {
                    key: 'progress',
                    progress: progress,
                    currentQuestion: currentQuestionIndex + 1,
                    totalQuestions: currentSession.questions.length
                }),

                React.createElement(QuestionCard, {
                    key: 'question',
                    question: currentQuestion,
                    currentAnswer: currentSession.answers[currentQuestionIndex],
                    onAnswerChange: answerQuestion,
                    questionNumber: currentQuestionIndex + 1,
                    totalQuestions: currentSession.questions.length
                }),

                React.createElement('div', {
                    key: 'controls',
                    style: {
                        maxWidth: '600px',
                        margin: '20px auto',
                        display: 'flex',
                        justifyContent: 'space-between',
                        alignItems: 'center'
                    }
                }, [
                    React.createElement('button', {
                        key: 'prev',
                        onClick: previousQuestion,
                        disabled: isFirstQuestion,
                        style: {
                            backgroundColor: isFirstQuestion ? '#ccc' : '#757575',
                            color: 'white',
                            border: 'none',
                            padding: '10px 20px',
                            borderRadius: '6px',
                            cursor: isFirstQuestion ? 'not-allowed' : 'pointer'
                        }
                    }, '前の問題'),

                    React.createElement('div', {
                        key: 'status',
                        style: { fontSize: '14px', color: '#666' }
                    }, currentSession.answers[currentQuestionIndex] !== null ? '回答済み' : '未回答'),

                    isLastQuestion ? 
                        React.createElement('button', {
                            key: 'finish',
                            onClick: handleFinishQuiz,
                            style: {
                                backgroundColor: '#F44336',
                                color: 'white',
                                border: 'none',
                                padding: '10px 20px',
                                borderRadius: '6px',
                                cursor: 'pointer'
                            }
                        }, '結果を見る') :
                        React.createElement('button', {
                            key: 'next',
                            onClick: nextQuestion,
                            style: {
                                backgroundColor: '#2196F3',
                                color: 'white',
                                border: 'none',
                                padding: '10px 20px',
                                borderRadius: '6px',
                                cursor: 'pointer'
                            }
                        }, '次の問題')
                ])
            ]);
        }

        // アプリをレンダリング
        ReactDOM.render(React.createElement(App), document.getElementById('root'));
    </script>
</body>
</html>